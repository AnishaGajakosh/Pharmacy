<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Cart - A1 Medical</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="site-header">...same header as other pages...</header>

  <main class="container">
    <h1>Your Cart</h1>
    <div id="cartList" class="cart-list"></div>
    <div style="margin-top:14px;display:flex;justify-content:space-between;align-items:center">
      <div id="totalPrice">Total: ₹ 0.00</div>
      <div>
        <a id="checkoutLink" href="checkout.html" class="btn-add">Proceed to Checkout</a>
      </div>
    </div>
  </main>
  <script>
  document.getElementById('year').textContent = new Date().getFullYear();
</script>

  <script>
    const cartList = document.getElementById('cartList');
    let cart = JSON.parse(localStorage.getItem('cart')||'[]');

    function render(){ 
      cartList.innerHTML=''; 
      let total=0; 
      cart.forEach((it,idx)=>{ 
        total += (it.price||0)*it.quantity; 
        const d=document.createElement('div'); d.className='cart-item'; 
        d.innerHTML = `
          <div style="display:flex;gap:12px;align-items:center">
            <div style="width:60px;height:60px;background:#f7f7f7;border-radius:8px;display:flex;align-items:center;justify-content:center">IMG</div>
            <div><div style="font-weight:700">${it.name}</div><div style="font-size:12px;color:#666">₹ ${Number(it.price||0).toFixed(2)}</div></div>
          </div>
          <div style="display:flex;gap:10px;align-items:center">
            <input type="number" min="1" value="${it.quantity}" data-idx="${idx}" class="qty" style="width:70px">
            <button data-idx="${idx}" class="btn-remove">Remove</button>
          </div>`;
        cartList.appendChild(d);
      });
      document.getElementById('totalPrice').textContent = `Total: ₹ ${total.toFixed(2)}`;
      localStorage.setItem('cart', JSON.stringify(cart));
    }
    render();

    cartList.addEventListener('click', e=>{
      if(e.target.matches('.btn-remove')){ const idx = Number(e.target.dataset.idx); cart.splice(idx,1); render(); }
    });
    cartList.addEventListener('change', e=>{ if(e.target.matches('.qty')){ const idx=Number(e.target.dataset.idx); cart[idx].quantity = Number(e.target.value); render(); }});
  </script>
</body>
</html>
